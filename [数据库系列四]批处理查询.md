yii的批处理查询使用PDO的fetch实现，fetch就是一个游标，每次读出一行然后移动游标到下一位PDO原生代码如下
```
<?php
  $batchSize = 4;
  $dsn = "mysql:host=192.168.0.10;dbname=test;port=3306";
  $options = [
    PDO::ATTR_DEFAULT_FETCH_MODE=>PDO::FETCH_ASSOC,
    PDO::ATTR_TIMEOUT=>1,
    PDO::ATTR_ERRMODE=>PDO::ERRMODE_EXCEPTION,
  ];
  try {
    $pdo = new PDO($dsn,"root","",$options);
    $pdo->quote("set name".$pdo->quote("utf8"));
    $pdo->setAttribute(PDO::ATTR_AUTOCOMMIT,1);
  } catch (Exception $e) {
    var_dump($e->getMessage());
  }
  $rawSql = "select * from a";
  $pdoStatement = $pdo->prepare($rawSql);
  try {
    $pdoStatement->execute();	
    $res = [];
    $count = 0;
    while($count++ < $this->batchSize && ($row = $pdoStatement->fetch())){
      $res[] = $row;
    }
    $pdoStatement->closeCursor();
  } catch (Exception $e) {
    var_dump($e);
    $message = $e->getMessage() . "\nThe SQL being executed was: $rawSql";
    var_dump($message);
  }
```
